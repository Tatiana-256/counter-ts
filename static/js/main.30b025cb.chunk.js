(this["webpackJsonpcounter-ts"]=this["webpackJsonpcounter-ts"]||[]).push([[0],{11:function(e,t,n){e.exports={container:"NavMenu_container__-63P7",header:"NavMenu_header__1DJU4",rout:"NavMenu_rout__47fq0",notification:"NavMenu_notification__16P-x"}},13:function(e,t,n){e.exports={container:"CounterSettings_container__3ky-p",setting:"CounterSettings_setting__134Re",notification:"CounterSettings_notification__1gpSD"}},15:function(e,t,n){e.exports={setting:"Counter_setting__3MkuB",buttons:"Counter_buttons__2tZ85",counter:"Counter_counter__2TzoN"}},38:function(e,t,n){e.exports=n(72)},43:function(e,t,n){},49:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(14),c=n.n(u),o=(n(43),n(2)),s=(n(49),n(11)),i=n.n(s),l=n(9),E=function(e){return r.a.createElement("div",{className:i.a.container},r.a.createElement("div",{className:i.a.header},r.a.createElement(l.b,{to:"/counter",className:i.a.rout}," Counter "),r.a.createElement(l.b,{to:"/settings",className:i.a.rout}," Settings ")),["IN-PROGRESS","ERROR"].some((function(t){return t===e.requestStatus}))&&r.a.createElement("div",{className:i.a.notification},"IN-PROGRESS"===e.requestStatus&&r.a.createElement("div",null,"Loading..."),"ERROR"===e.requestStatus&&r.a.createElement("div",null,"Error")))},v=n(5),f=n.n(v),m=n(8),p=n(7),S=n(36),d=n.n(S).a.create({baseURL:"http://localhost:3000"}),b={getCounter:function(){return d.get("/counter").then((function(e){return e.data}))},updateCounter:function(e){return d.put("/counter",{value:e})},getCounterSettings:function(){return d.get("/counter-settings").then((function(e){return e.data}))},updateCounterMaxValue:function(e){return d.patch("/counter-settings",{maxValue:e})},updateCounterStartValue:function(e){return d.patch("/counter-settings",{startValue:e})}};window.counterServiceAPI=b;var h={requestStatus:"NONE"},R=function(e){return{type:"APP/SET_REQUEST_STATUS",status:e}},g={value:0},O=function(e){return{type:"COUNTER/SET_COUNTER_VALUE",value:e}},_=function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(R("IN-PROGRESS")),t.prev=1,t.next=4,b.updateCounter(e);case 4:t.sent,n(O(e)),n(R("SUCCESS")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0),n(R("ERROR"));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()},N=n(15),C=n.n(N),T=function(e){var t=Object(o.c)((function(e){return e.count.value})),n=Object(o.c)((function(e){return e.settings.startValue})),u=Object(o.c)((function(e){return e.settings.maxValue})),c=Object(o.b)();Object(a.useEffect)((function(){c(function(){var e=Object(m.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R("IN-PROGRESS")),e.prev=1,e.next=4,b.getCounter();case 4:a=e.sent,t(O(a.value)),t(R("SUCCESS")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),t(R("ERROR"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}())}),[]);var s=t>=u;return r.a.createElement("div",{className:C.a.setting},r.a.createElement("div",{className:C.a.counter},"Counter"),r.a.createElement("div",null,t),r.a.createElement("div",{className:C.a.buttons},r.a.createElement("button",{onClick:function(){c(_(t+1))},disabled:s},"Increment"),r.a.createElement("button",{onClick:function(){c(_(n))}},"Reset")),s&&r.a.createElement("div",null,"Counter can`t be more than max value"))},x=n(13),V=n.n(x),U={maxValue:10,startValue:0},j=function(e){return{type:"COUNTER-SETTINGS/SET_MAX_VALUE",maxValue:e}},w=function(e){return{type:"COUNTER-SETTINGS/SET_START_VALUE",startValue:e}},k=function(e){var t=Object(o.c)((function(e){return e.settings.maxValue})),n=Object(o.c)((function(e){return e.settings.startValue})),a=Object(o.b)(),u=t<n;return r.a.createElement("div",{className:V.a.container},r.a.createElement("div",{className:V.a.setting},r.a.createElement("div",null,"Start value"),r.a.createElement("div",null,r.a.createElement("input",{value:n,onChange:function(e){var t;a((t=Number(e.currentTarget.value),function(){var e=Object(m.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(R("IN-PROGRESS")),e.prev=1,e.next=4,b.updateCounterStartValue(t);case 4:e.sent,n(w(t)),n(R("SUCCESS")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),n(R("ERROR"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))},type:"number"}))),r.a.createElement("div",{className:V.a.setting},r.a.createElement("div",null,"Max value"),r.a.createElement("div",null,r.a.createElement("input",{value:t,onChange:function(e){var t;a((t=Number(e.currentTarget.value),function(){var e=Object(m.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(R("IN-PROGRESS")),e.prev=1,e.next=4,b.updateCounterMaxValue(t);case 4:e.sent,n(j(t)),n(R("SUCCESS")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),n(R("ERROR"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))},type:"number",disabled:u}))),u&&r.a.createElement("div",{className:V.a.notification},"Max value mast be over than start value"))},y=n(1),A=function(e){var t=Object(o.b)();Object(a.useEffect)((function(){t(function(){var e=Object(m.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R("IN-PROGRESS")),e.prev=1,e.next=4,b.getCounterSettings();case 4:a=e.sent,t(j(a.maxValue)),t(w(a.startValue)),t(R("SUCCESS")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),t(R("ERROR"));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}())}),[]);var n=Object(o.c)((function(e){return e.requestStatus.requestStatus}));return r.a.createElement("div",{className:"App"},r.a.createElement(E,{requestStatus:n}),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/counter",component:T}),r.a.createElement(y.b,{path:"/settings",component:k}),r.a.createElement(y.a,{exact:!0,path:"/",to:"/counter"}),r.a.createElement(y.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 Not found")}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=n(10),P=n(37),G=Object(I.c)({count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUNTER/SET_COUNTER_VALUE":return Object(p.a)({},e,{value:t.value});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUNTER-SETTINGS/SET_MAX_VALUE":return Object(p.a)({},e,{maxValue:t.maxValue});case"COUNTER-SETTINGS/SET_START_VALUE":return Object(p.a)({},e,{startValue:t.startValue});default:return e}},requestStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_REQUEST_STATUS":return Object(p.a)({},e,{requestStatus:t.status});default:return e}}}),M=Object(I.d)(G,Object(I.a)(P.a));c.a.render(r.a.createElement(l.a,null,r.a.createElement(o.a,{store:M},r.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.30b025cb.chunk.js.map